(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{1619:function(e,t,l){Promise.resolve().then(l.bind(l,4727))},8392:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Navbar}});var a=l(7437);function Navbar(e){return(0,a.jsx)("div",{className:"flex flex-col bg-neutral-900 h-14 p-4 w-full justify-center z-0",children:(0,a.jsx)("p",{className:"text-2xl text-gray-100 cursor-pointer",onClick:()=>{var t;let l=window.location.href.split("/")[0];window.location.href=l+"/"+(null!==(t=e.region)&&void 0!==t?t:"jp")},children:"Blue Archive"})})}},4727:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return Home}});var a=l(7437),n=l(6691),r=l.n(n);function ImageComponent(e){var t,l,n;return(0,a.jsx)(r(),{src:e.src,alt:null!==(t=e.alt)&&void 0!==t?t:"Image",height:null!==(l=e.height)&&void 0!==l?l:300,width:null!==(n=e.width)&&void 0!==n?n:300,className:"transition-all duration-300 hover:scale-110 shadow-md hover:shadow-2xl border-gray-100 border-4 m-4 cursor-pointer",loading:"lazy",onClick:e.onClick})}var s=l(8392),i=l(2265);function Home(){let e=[],[t,l]=(0,i.useState)([]),n=(0,i.useRef)(null),[c,o]=(0,i.useState)(""),u=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(0===e.length){let fetchData=async()=>{let t=await fetch("/data/jp/MediaResources/MediaCatalog.json"),l=await t.json(),a=Object.keys(l.Table).map(e=>{let t=l.Table[e];return t.path.endsWith(".jpg")?(t.path="/data/jp/MediaResources/".concat(t.path),t):null}).filter(e=>null!==e);e.push(...a)};fetchData()}}),(0,i.useEffect)(()=>{let loadMore=()=>{let a=e.slice(t.length,t.length+20);l(e=>[...e,...a])},a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(loadMore(),a.unobserve(e.target))})},{root:null,rootMargin:"0px",threshold:.1});n.current&&a.observe(n.current)}),(0,a.jsxs)("main",{className:"h-full w-full flex flex-col",children:[(0,a.jsx)(s.default,{region:"jp"}),t.length>0?null:(0,a.jsx)("div",{className:"fixed h-full w-full",children:(0,a.jsx)("div",{className:"absolute h-full w-full bg-black bg-opacity-60 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-4xl",children:"Loading..."})})}),(0,a.jsx)("div",{className:"fixed h-full w-full z-10 transition-all duration-300 opacity-0",ref:u,children:(0,a.jsx)("div",{className:"absolute h-full w-full bg-black bg-opacity-60 flex items-center justify-center",onClick:()=>{u.current&&(setTimeout(()=>{o(""),u.current.classList.add("hidden")},300),u.current.classList.add("opacity-0"),u.current.classList.remove("opacity-100"))},children:(0,a.jsx)(r(),{src:c,alt:c,fill:!0,style:{objectFit:"contain"},className:"p-24 flex items-end transition-all duration-500"})})}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center items-center",children:[t.map((e,t)=>(0,a.jsx)(ImageComponent,{src:e.path,alt:e.fileName,onClick:()=>{o(e.path),u.current&&(setTimeout(()=>{u.current.classList.add("opacity-100"),u.current.classList.remove("opacity-0")},1),u.current.classList.remove("hidden"))}},t)),(0,a.jsx)("div",{ref:n,children:t.length<e.length?"Loading more images...":""})]})]})}}},function(e){e.O(0,[986,971,472,744],function(){return e(e.s=1619)}),_N_E=e.O()}]);